{"ast":null,"code":"import _regeneratorRuntime from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Wrapper from'../../Common/Wrapper/index';import Search from'./search';import General from'./general';import Hour from'./hour';import ForeCastText from'./forecastText';import{useState,useEffect}from'react';import{getForecast,getCurrentForecast}from'./service';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Index(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState('Kathmandu'),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),weatherData=_useState6[0],setWeatherData=_useState6[1];function data(){return _data.apply(this,arguments);}function _data(){_data=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var params,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:params={key:\"318712e780144abcac530843233001\",q:city,days:1,aqi:false,alerts:'no'};_context.next=3;return getForecast(params);case 3:data=_context.sent;if(data){setLoading(false);setWeatherData(data);}case 5:case\"end\":return _context.stop();}},_callee);}));return _data.apply(this,arguments);}function getCurrent(){return _getCurrent.apply(this,arguments);}function _getCurrent(){_getCurrent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var params,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:params={key:\"318712e780144abcac530843233001\",q:city};_context2.next=3;return getCurrentForecast(params);case 3:data=_context2.sent;if(data){console.log(\"data\",data);}case 5:case\"end\":return _context2.stop();}},_callee2);}));return _getCurrent.apply(this,arguments);}useEffect(function(){setLoading(true);data();getCurrent();},[]);var cityChange=function cityChange(e){var value=e.target.value;setCity(value);};var searchCity=function searchCity(){setLoading(true);data();};return/*#__PURE__*/_jsx(Wrapper,{children:loading?/*#__PURE__*/_jsx(\"span\",{children:\"Loading ...\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',paddingLeft:'20%',paddingRight:'20%',alignItems:'center',justifyContent:'center',backgroundColor:'#0B131E'},children:Object.values(weatherData).length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{cityChange:cityChange,searchCity:searchCity}),/*#__PURE__*/_jsx(General,{weather:weatherData}),/*#__PURE__*/_jsx(Hour,{weather:weatherData}),/*#__PURE__*/_jsx(ForeCastText,{weather:weatherData})]})})});}export default Index;","map":{"version":3,"names":["Wrapper","Search","General","Hour","ForeCastText","useState","useEffect","getForecast","getCurrentForecast","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Index","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","city","setCity","_useState5","_useState6","weatherData","setWeatherData","data","_data","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","wrap","_callee$","_context","prev","next","key","q","days","aqi","alerts","sent","stop","getCurrent","_getCurrent","_callee2","_callee2$","_context2","console","log","cityChange","e","value","target","searchCity","children","style","display","flexDirection","paddingLeft","paddingRight","alignItems","justifyContent","backgroundColor","Object","values","length","weather"],"sources":["/home/jayan/React/colors/src/Components/Weather/index.jsx"],"sourcesContent":["import Wrapper from '../../Common/Wrapper/index';\nimport Search from './search';\nimport General from './general';\nimport Hour from './hour';\nimport ForeCastText from './forecastText';\nimport {useState, useEffect} from 'react';\nimport {getForecast, getCurrentForecast} from './service';\n\nfunction Index(){\n    const [loading, setLoading] = useState(false);\n    const [city, setCity] = useState('Kathmandu');\n    const [weatherData, setWeatherData] = useState([]);\n\n    async function data(){\n        const params = {\n            key: \"318712e780144abcac530843233001\",\n            q: city,\n            days: 1,\n            aqi: false,\n            alerts: 'no',\n        };\n        let data = await getForecast(params);\n       \n        if(data){\n            setLoading(false);\n            setWeatherData(data);\n        }\n    }\n\n    async function getCurrent(){\n        const params = {\n            key: \"318712e780144abcac530843233001\",\n            q: city\n        };\n        let data = await getCurrentForecast(params);\n       \n        if(data){\n            console.log(\"data\",data);\n        }\n    }\n\n    useEffect(()=>{\n        setLoading(true);\n        data();\n        getCurrent();\n    },[]);\n\n    const cityChange= (e) => {\n        let value = e.target.value;\n        setCity(value);\n    }\n\n    const searchCity = () => {\n        setLoading(true);\n        data();\n    }   \n\n    return (\n       <Wrapper>\n           {\n                loading ?\n                    <span>Loading ...</span>\n                :\n                    <div style={{display: 'flex',flexDirection: 'column',paddingLeft: '20%', paddingRight: '20%', alignItems:'center', justifyContent:'center', backgroundColor: '#0B131E'}}>\n                        {\n                            Object.values(weatherData).length > 0 &&\n                                <>\n                                    <Search cityChange={cityChange} searchCity={searchCity} />\n        \n                                    <General weather={weatherData} /> \n        \n                                    <Hour weather={weatherData} />\n        \n                                    <ForeCastText weather={weatherData} />\n                                </>\n                        }\n                    </div>\n           }\n       </Wrapper>\n    )\n}\n\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}