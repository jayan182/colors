{"ast":null,"code":"import _slicedToArray from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import{useEffect,useState}from'react';import credientials from'../../Lib/userCredentials';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setRole=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){var data=JSON.parse(localStorage.getItem(\"user\"));if(data!==null){navigate(\"/home\");}else{navigate(\"/\");}},[]);var Login=function Login(){setError({\"email\":\"\",\"password\":\"\"});if(email===\"\"&&password===\"\"){setError({\"email\":\"Email is required\",\"password\":\"Password is required\"});}else if(email!==\"\"&&password===\"\"){setError({\"email\":\"\",\"password\":\"Password is required\"});}else if(email===\"\"&&password!==\"\"){setError({\"email\":\"Email is required\",\"password\":\"\"});}else{// if(\n//     credientials.email !== email &&\n//     credientials.password !== password \n// ){\n//     setError({\n//         \"email\": \"Email is invalid\", \n//         \"password\": \"Password is invalid\", \n//      })\n// }\n// else if(\n//     credientials.email === email &&\n//     credientials.password !== password \n// ){\n//     setError({\n//         \"email\": \"\", \n//         \"password\": \"Password is invalid\", \n//      })\n// }\n// else if(\n//     credientials.email !== email &&\n//     credientials.password === password \n// ){\n//     setError({\n//         \"email\": \"Email is invalid\", \n//         \"password\": \"\", \n//      })\n// }\n// else{\nsetError({});var user=localStorage.getItem(\"user_list\");if(user!==null){user=JSON.parse(user);var search=user.filter(function(tmp){return tmp.email===email&&tmp.password===password&&tmp.role===role;});if(search.length>0){localStorage.setItem(\"user\",JSON.stringify({email:email,password:password,role:role,image:search[0].image}));navigate('home');}else{alert(\"Invalid crendirentials\");}}else{alert(\"user not registered\");}// }\n}};return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){setEmail(e.target.value);}}),Object.values(error).length>0&&/*#__PURE__*/_jsx(\"span\",{children:error.email})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){setPassword(e.target.value);}}),Object.values(error).length>0&&/*#__PURE__*/_jsx(\"span\",{children:error.password}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Select Role\",onClick:function onClick(e){setRole(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Client\",children:\"Client\"})]})]}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicCheckbox\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Check me out\"})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){Login();},children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]});}export default Login;","map":{"version":3,"names":["Button","Form","useEffect","useState","credientials","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","role","setRole","_useState7","_useState8","error","setError","data","JSON","parse","localStorage","getItem","user","search","filter","tmp","length","setItem","stringify","image","alert","children","Group","className","controlId","Label","Control","type","placeholder","onChange","e","target","value","Object","values","Select","onClick","Check","label","variant","to"],"sources":["/home/jayan/React/colors/src/Components/Login/login.jsx"],"sourcesContent":["import Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport {useEffect, useState} from 'react';\nimport credientials from '../../Lib/userCredentials';\nimport { useNavigate, Link } from 'react-router-dom';\n\nfunction Login (){\n    const navigate = useNavigate();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState('');\n    const [error, setError] = useState({});\n\n    useEffect(()=>{\n        let data = JSON.parse(localStorage.getItem(\"user\"));\n\n        if(data !== null){\n          navigate(\"/home\");\n        }\n        else{\n          navigate(\"/\");\n        }\n    },[]);\n\n    const Login = () =>{\n        setError({\n            \"email\": \"\", \n            \"password\": \"\", \n         })\n        if(email === \"\" && password === \"\"){\n            setError({\n               \"email\": \"Email is required\", \n               \"password\": \"Password is required\", \n            })\n        }\n        else if(email !== \"\" && password === \"\"){\n            setError({\n                \"email\": \"\", \n                \"password\": \"Password is required\", \n             })\n        }\n        else if(email === \"\" && password !== \"\"){\n            setError({\n                \"email\": \"Email is required\", \n                \"password\": \"\", \n             })\n        }\n        else{\n            // if(\n            //     credientials.email !== email &&\n            //     credientials.password !== password \n            // ){\n            //     setError({\n            //         \"email\": \"Email is invalid\", \n            //         \"password\": \"Password is invalid\", \n            //      })\n            // }\n            // else if(\n            //     credientials.email === email &&\n            //     credientials.password !== password \n            // ){\n            //     setError({\n            //         \"email\": \"\", \n            //         \"password\": \"Password is invalid\", \n            //      })\n            // }\n            // else if(\n            //     credientials.email !== email &&\n            //     credientials.password === password \n            // ){\n            //     setError({\n            //         \"email\": \"Email is invalid\", \n            //         \"password\": \"\", \n            //      })\n            // }\n            // else{\n                setError({});\n\n                let user =  localStorage.getItem(\"user_list\");\n                \n                if(user !== null){\n                    user = JSON.parse(user);\n\n                    let search = user.filter((tmp)=>{\n                        return tmp.email === email &&  tmp.password === password && tmp.role === role\n                    });\n\n                    if(search.length > 0){\n                        localStorage.setItem(\"user\", JSON.stringify(\n                            {\n                                email: email,\n                                password: password,\n                                role: role,\n                                image: search[0].image,\n                            }\n                        ));\n                        navigate('home');\n                    }\n                    else{\n                        alert(\"Invalid crendirentials\")\n                    }\n\n                }\n                else{\n                    alert(\"user not registered\");\n                }\n           // }\n        }\n    }\n\n    return (\n        <Form>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control \n                type=\"email\" \n                placeholder=\"Enter email\" \n                onChange={(e)=>{\n                    setEmail(e.target.value)\n                }}\n            />\n            {\n                Object.values(error).length > 0 &&\n                    <span>\n                        {error.email}\n                    </span>\n            }\n          </Form.Group>\n    \n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control \n                type=\"password\" \n                placeholder=\"Password\" \n                onChange={(e)=>{\n                    setPassword(e.target.value)\n                }}\n            />\n            {\n                Object.values(error).length > 0 &&\n                    <span>\n                        {error.password}\n                    </span>\n            }\n\n            <Form.Select aria-label=\"Select Role\" onClick={(e)=>{\n                setRole(e.target.value)\n            }}>\n                <option>Choose</option>\n                <option value=\"Admin\">Admin</option>\n                <option value=\"Client\">Client</option>\n            </Form.Select>\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n            <Form.Check type=\"checkbox\" label=\"Check me out\" />\n          </Form.Group>\n          <Button \n                variant=\"primary\" \n                onClick={()=>{\n                   Login()\n                }}\n            >\n                Submit\n            </Button>\n\n            <Link to={\"/register\"}>\n                Register\n            </Link>\n        </Form>\n      );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}