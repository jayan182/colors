{"ast":null,"code":"import _regeneratorRuntime from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jayan/React/colors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Wrapper from'../../Common/Wrapper/index';import MovieCard from'../../Common/Card/movieCard';import{useNavigate}from\"react-router-dom\";import genres from'../../Lib/genres';import Pill from\"../../Common/Pill\";import{useState,useEffect}from'react';import axios from'axios';import Pagination from'react-bootstrap/Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Index(){var _useState=useState('Horror'),_useState2=_slicedToArray(_useState,2),selectedGenre=_useState2[0],setSelectedGenre=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var url=\"https://yts.torrentbay.to/api/v2/list_movies.json?genre=\".concat(selectedGenre);var navigate=useNavigate();var offset=5;var getMovieData=function getMovieData(url){axios.get(url).then(function(res){setData(res.data);});};useEffect(function(){getMovieData(url);},[]);var cardClick=function cardClick(imdb_code){navigate(\"\".concat(imdb_code));};var changeGenre=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(genre){var url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setData(undefined);setSelectedGenre(genre);url=\"https://yts.torrentbay.to/api/v2/list_movies.json?limit=10&genre=\".concat(genre,\"&page=2\");getMovieData(url);case 4:case\"end\":return _context.stop();}},_callee);}));return function changeGenre(_x){return _ref.apply(this,arguments);};}();var changePage=function changePage(page){setData(undefined);var url=\"https://yts.torrentbay.to/api/v2/list_movies.json?limit=10&page=\".concat(page);getMovieData(url);};return/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:'center',justifyContent:'space-around',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"List of \".concat(selectedGenre,\" movies\")}),/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:genres.map(function(genre,key){return/*#__PURE__*/_jsx(Pill,{onPress:changeGenre,genre:genre.name,style:{display:'flex',borderRadius:10,backgroundColor:\"\".concat(genre.colorCode),alignItems:'center',justifyContent:'center',width:100,margin:10,height:45,cursor:'pointer'}},key);})}),data!==undefined?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flex:1,alignItems:'center',justifyContent:'center',flexWrap:'wrap'},children:Object.values(data).length>0?data.data.movies.map(function(movie,key){return/*#__PURE__*/_jsx(MovieCard,{movie:movie,index:key,cardClick:cardClick});}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"}),Object.values(data).length>0&&/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsx(Pagination,{children:[0,1,2,3,4].map(function(tmp){return/*#__PURE__*/_jsxs(_Fragment,{children:[tmp===0&&/*#__PURE__*/_jsx(Pagination.First,{}),tmp===0&&data.data.page_number>5&&/*#__PURE__*/_jsx(Pagination.Ellipsis,{}),/*#__PURE__*/_jsx(Pagination.Item,{children:data.data.page_number+tmp}),tmp===4&&data.data.page_number<5&&/*#__PURE__*/_jsx(Pagination.Ellipsis,{}),tmp===4&&data.data.page_number<5&&/*#__PURE__*/_jsx(Pagination.Item,{children:data.data.movie_count}),tmp===4&&/*#__PURE__*/_jsx(Pagination.Last,{})]});})})})]});}var styles={container:{display:'flex',flex:1,flexDirection:'row',alignItems:'center',justifyContent:'space-between',flexWrap:'wrap'}};export default Index;","map":{"version":3,"names":["Wrapper","MovieCard","useNavigate","genres","Pill","useState","useEffect","axios","Pagination","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Index","_useState","_useState2","_slicedToArray","selectedGenre","setSelectedGenre","_useState3","_useState4","data","setData","url","concat","navigate","offset","getMovieData","get","then","res","cardClick","imdb_code","changeGenre","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","genre","wrap","_callee$","_context","prev","next","undefined","stop","_x","apply","arguments","changePage","page","style","alignItems","justifyContent","display","flexDirection","children","styles","container","map","key","onPress","name","borderRadius","backgroundColor","colorCode","width","margin","height","cursor","flex","flexWrap","Object","values","length","movies","movie","index","tmp","First","page_number","Ellipsis","Item","movie_count","Last"],"sources":["/home/jayan/React/colors/src/Components/Movie/index.jsx"],"sourcesContent":["import Wrapper from '../../Common/Wrapper/index';\nimport MovieCard from '../../Common/Card/movieCard';\nimport {useNavigate } from \"react-router-dom\";\nimport genres from '../../Lib/genres';\nimport Pill from \"../../Common/Pill\";\nimport {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport Pagination from 'react-bootstrap/Pagination';\n\nfunction Index(){\n    const [selectedGenre, setSelectedGenre] = useState('Horror');\n    const [data, setData] = useState([]);\n    let url = `https://yts.torrentbay.to/api/v2/list_movies.json?genre=${selectedGenre}`;\n    const navigate = useNavigate();\n    let offset = 5;\n    \n    const getMovieData = (url) => {\n        axios.get(url).then((res)=>{\n            setData(res.data);\n        });\n    }\n    useEffect(()=>{\n        getMovieData(url);\n    },[]);\n\n    const cardClick = (imdb_code) => {\n        navigate(`${imdb_code}`);\n    };\n\n    const changeGenre = async (genre) => {\n        setData(undefined);\n        setSelectedGenre(genre);\n        let url = `https://yts.torrentbay.to/api/v2/list_movies.json?limit=10&genre=${genre}&page=2`;\n        getMovieData(url);\n    } \n\n    const changePage = (page) => {\n        setData(undefined);\n        let url = `https://yts.torrentbay.to/api/v2/list_movies.json?limit=10&page=${page}`;\n        getMovieData(url);\n    }\n\n    return (\n        <div style={{alignItems:'center', justifyContent: 'space-around', display: 'flex', flexDirection: 'column'}}>\n            <h2>{`List of ${selectedGenre} movies`}</h2>\n\n            <div style={styles.container}>\n            {\n                genres.map((genre, key)=>{\n                   return (\n                    <Pill \n                        onPress={changeGenre}\n                        genre={genre.name} \n                        key={key} \n                        style={{\n                            display: 'flex',\n                            borderRadius: 10,\n                            backgroundColor: `${genre.colorCode}`,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            width :100,\n                            margin: 10,\n                            height: 45,\n                            cursor: 'pointer',\n                        }}\n                    />\n                   )\n                })\n            }\n            </div >\n\n            {\n                data !== undefined ?\n                <div style={{\n                    display: 'flex',\n                    flex:1,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexWrap: 'wrap',\n                }}>\n                    {          \n                        Object.values(data).length > 0 ?\n                            data.data.movies.map((movie, key)=>{\n                                return (\n                                    <MovieCard movie={movie} index={key} cardClick={cardClick} />\n                                )\n                            })\n                        :\n                            <p>Loading ...</p>\n                    }\n                </div>\n                :\n                    <p>Loading ...</p>\n            }\n\n            {\n                Object.values(data).length > 0 &&\n                    <div style={styles.container}>\n                        <Pagination>\n                            {\n                                [0,1,2,3,4].map((tmp)=>{\n                                    return (\n                                        <>\n                                            {\n                                                tmp === 0 && <Pagination.First />\n                                            }\n                                            {\n                                                tmp === 0 &&\n                                                    (data.data.page_number) > 5 &&\n                                                        <Pagination.Ellipsis />\n\n                                            }\n                                            <Pagination.Item>{data.data.page_number + tmp}</Pagination.Item>\n                                            {\n                                                tmp === 4 &&\n                                                    (data.data.page_number) < 5 &&\n                                                        <Pagination.Ellipsis />\n\n                                            }\n                                            {\n                                                tmp === 4 &&\n                                                    (data.data.page_number) < 5 &&\n                                                        <Pagination.Item>{data.data.movie_count}</Pagination.Item>\n\n                                            }\n                                            {\n                                                tmp === 4 &&  <Pagination.Last />\n                                            }\n                                        </>\n                                    )\n                                })\n                            }\n                        </Pagination>\n                    </div>\n            }\n        </div>\n    )\n}\n\nconst styles = {\n    container: {\n        display: 'flex',\n        flex:1,\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flexWrap: 'wrap',\n    }\n}\n\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}