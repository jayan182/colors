{"ast":null,"code":"const reducer = (state, action) => {\n  switch (action.type) {\n    case \"list_request\":\n      return {\n        ...state\n      };\n    case \"add_request\":\n      console.log(\"Object.values(state.fruitEdit).length\", Object.values(state.fruitEdit).length);\n      if (Object.values(state.fruitEdit).length === 0) {\n        let fruitList = [{\n          ...state.fruits,\n          ...state.fruitList\n        }];\n        state.fruits = {\n          name: \"\",\n          image: \"\"\n        };\n        state.toast = true;\n        state.message = 'Added Successfully !';\n        state.fruitEdit = [];\n        return {\n          ...state,\n          fruitList\n        };\n      } else {\n        state.error = {};\n        let temp = [];\n        state.fruitList.map((tmp, key) => {\n          if (key === state.editedKey) {\n            temp.push(state.fruitEdit[0]);\n          } else {\n            temp.push(tmp);\n          }\n        });\n        state.fruitEdit = [];\n        state.editedKey = '';\n        state.toast = true;\n        state.message = 'Updated Successfully !';\n        return {\n          ...state,\n          ...{\n            \"fruitList\": temp\n          }\n        };\n      }\n    case \"edit_request\":\n      let fruitEdit = state.fruitList.filter(tmp => {\n        return tmp.name === action.value;\n      });\n      state.editedKey = action.key;\n      return {\n        ...state,\n        fruitEdit\n      };\n    case \"delete_request\":\n      {\n        let index = state.fruitList.findIndex(tmp => {\n          return tmp.name === action.value;\n        });\n        if (index !== -1) {\n          let temp_fruits = [...state.fruitList];\n          temp_fruits.splice(index, 1);\n          state.toast = true;\n          state.message = 'Deleted Successfully !';\n          let fruitList = {\n            \"fruitList\": temp_fruits\n          };\n          return {\n            ...state,\n            ...fruitList\n          };\n        } else {\n          return {\n            ...state\n          };\n        }\n      }\n    case \"add_remove_from_cart\":\n      {\n        let index = state.cartList.findIndex(tmp => {\n          return tmp.name === action.value.name;\n        });\n        if (index === -1) {\n          let cartList = [action.value];\n          return {\n            ...state,\n            cartList\n          };\n        } else {\n          let temp_fruits = [...state.cartList];\n          temp_fruits.splice(index, 1);\n          let cartList = {\n            \"cartList\": temp_fruits\n          };\n          return {\n            ...state,\n            ...cartList\n          };\n        }\n      }\n    case \"handle_change\":\n      const name = action.value.target.name;\n      const value = action.value.target.value;\n      if (Object.values(state.fruitEdit).length > 0) {\n        let temp = {\n          [name]: value\n        };\n        let fruitEdit = [{\n          ...state.fruitEdit[0],\n          ...temp\n        }];\n        return {\n          ...state,\n          fruitEdit\n        };\n      } else {\n        let temp = {\n          [name]: value\n        };\n        let fruits = {\n          \"fruits\": {\n            ...state.fruits,\n            ...temp\n          }\n        };\n        return {\n          ...state,\n          ...fruits\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["reducer","state","action","type","console","log","Object","values","fruitEdit","length","fruitList","fruits","name","image","toast","message","error","temp","map","tmp","key","editedKey","push","filter","value","index","findIndex","temp_fruits","splice","cartList","target"],"sources":["/home/jayan/React/colors/src/Components/Fruits/reducer.js"],"sourcesContent":["const reducer = (state, action) => {\n    switch(action.type){\n        case \"list_request\": \n            return {\n                ...state, \n                \n            };\n        case \"add_request\":\n            console.log(\"Object.values(state.fruitEdit).length\",Object.values(state.fruitEdit).length);\n            if(Object.values(state.fruitEdit).length === 0){\n                let fruitList = [{...state.fruits, ...state.fruitList}];\n                state.fruits = {\n                    name: \"\",\n                    image: \"\",\n                };\n                state.toast = true;\n                state.message = 'Added Successfully !';\n                state.fruitEdit = [];\n                return {\n                    ...state, \n                    fruitList\n                };\n            }\n            else{\n                state.error = {};\n                let temp = [];\n\n                state.fruitList.map((tmp,key)=>{\n                    if(key === state.editedKey){\n                        temp.push(state.fruitEdit[0]);\n                    }\n                    else{\n                        temp.push(tmp);\n                    }\n                })\n\n                state.fruitEdit = [];\n                state.editedKey = '';\n                state.toast = true;\n                state.message = 'Updated Successfully !';\n                return {\n                    ...state,\n                    ...{\"fruitList\" : temp}\n                }\n            }\n        case \"edit_request\":\n            let fruitEdit = state.fruitList.filter((tmp)=>{return tmp.name === action.value});\n            state.editedKey = action.key;\n            return { \n                ...state, \n                fruitEdit,\n                \n            }\n        case \"delete_request\":\n            {\n                let index = state.fruitList.findIndex((tmp)=>{return tmp.name === action.value});\n\n                if(index !== -1){\n                    let temp_fruits = [...state.fruitList];\n                    temp_fruits.splice(index, 1);\n                    state.toast = true;\n                    state.message = 'Deleted Successfully !';\n                    let fruitList = {\"fruitList\": temp_fruits};\n                    return {\n                        ...state,\n                        ...fruitList\n                    }\n                }\n                else{\n                    return {\n                        ...state\n                    }\n                }\n            }\n        case \"add_remove_from_cart\":\n            {\n                let index = state.cartList.findIndex((tmp)=>{\n                    return tmp.name === action.value.name\n                });\n        \n                if(index === -1){\n                    let cartList = [action.value];\n                    return {\n                        ...state,\n                        cartList\n                    }\n                }\n                else{\n                    let temp_fruits = [...state.cartList];\n                    temp_fruits.splice(index, 1);\n                    let cartList = {\"cartList\": temp_fruits};\n                    return {\n                        ...state,\n                        ...cartList\n                    }\n                }\n            }\n        case \"handle_change\":\n            const name = action.value.target.name;\n            const value = action.value.target.value;\n\n            if(Object.values(state.fruitEdit).length > 0){\n                let temp = {[name]: value};\n                let fruitEdit = [{...state.fruitEdit[0], ...temp}];\n                return {\n                    ...state,\n                    fruitEdit\n                }\n            }\n            else{\n                let temp = {[name]: value};\n                let fruits = {\"fruits\" : {...state.fruits, ...temp}};\n                return {\n                    ...state,\n                    ...fruits\n                }\n            }\n        default:\n            return state;\n    }\n}\n\nexport default reducer;"],"mappings":"AAAA,MAAMA,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC/B,QAAOA,MAAM,CAACC,IAAI;IACd,KAAK,cAAc;MACf,OAAO;QACH,GAAGF;MAEP,CAAC;IACL,KAAK,aAAa;MACdG,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAACC,MAAM,CAACC,MAAM,CAACN,KAAK,CAACO,SAAS,CAAC,CAACC,MAAM,CAAC;MAC1F,IAAGH,MAAM,CAACC,MAAM,CAACN,KAAK,CAACO,SAAS,CAAC,CAACC,MAAM,KAAK,CAAC,EAAC;QAC3C,IAAIC,SAAS,GAAG,CAAC;UAAC,GAAGT,KAAK,CAACU,MAAM;UAAE,GAAGV,KAAK,CAACS;QAAS,CAAC,CAAC;QACvDT,KAAK,CAACU,MAAM,GAAG;UACXC,IAAI,EAAE,EAAE;UACRC,KAAK,EAAE;QACX,CAAC;QACDZ,KAAK,CAACa,KAAK,GAAG,IAAI;QAClBb,KAAK,CAACc,OAAO,GAAG,sBAAsB;QACtCd,KAAK,CAACO,SAAS,GAAG,EAAE;QACpB,OAAO;UACH,GAAGP,KAAK;UACRS;QACJ,CAAC;MACL,CAAC,MACG;QACAT,KAAK,CAACe,KAAK,GAAG,CAAC,CAAC;QAChB,IAAIC,IAAI,GAAG,EAAE;QAEbhB,KAAK,CAACS,SAAS,CAACQ,GAAG,CAAC,CAACC,GAAG,EAACC,GAAG,KAAG;UAC3B,IAAGA,GAAG,KAAKnB,KAAK,CAACoB,SAAS,EAAC;YACvBJ,IAAI,CAACK,IAAI,CAACrB,KAAK,CAACO,SAAS,CAAC,CAAC,CAAC,CAAC;UACjC,CAAC,MACG;YACAS,IAAI,CAACK,IAAI,CAACH,GAAG,CAAC;UAClB;QACJ,CAAC,CAAC;QAEFlB,KAAK,CAACO,SAAS,GAAG,EAAE;QACpBP,KAAK,CAACoB,SAAS,GAAG,EAAE;QACpBpB,KAAK,CAACa,KAAK,GAAG,IAAI;QAClBb,KAAK,CAACc,OAAO,GAAG,wBAAwB;QACxC,OAAO;UACH,GAAGd,KAAK;UACR,GAAG;YAAC,WAAW,EAAGgB;UAAI;QAC1B,CAAC;MACL;IACJ,KAAK,cAAc;MACf,IAAIT,SAAS,GAAGP,KAAK,CAACS,SAAS,CAACa,MAAM,CAAEJ,GAAG,IAAG;QAAC,OAAOA,GAAG,CAACP,IAAI,KAAKV,MAAM,CAACsB,KAAK;MAAA,CAAC,CAAC;MACjFvB,KAAK,CAACoB,SAAS,GAAGnB,MAAM,CAACkB,GAAG;MAC5B,OAAO;QACH,GAAGnB,KAAK;QACRO;MAEJ,CAAC;IACL,KAAK,gBAAgB;MACjB;QACI,IAAIiB,KAAK,GAAGxB,KAAK,CAACS,SAAS,CAACgB,SAAS,CAAEP,GAAG,IAAG;UAAC,OAAOA,GAAG,CAACP,IAAI,KAAKV,MAAM,CAACsB,KAAK;QAAA,CAAC,CAAC;QAEhF,IAAGC,KAAK,KAAK,CAAC,CAAC,EAAC;UACZ,IAAIE,WAAW,GAAG,CAAC,GAAG1B,KAAK,CAACS,SAAS,CAAC;UACtCiB,WAAW,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;UAC5BxB,KAAK,CAACa,KAAK,GAAG,IAAI;UAClBb,KAAK,CAACc,OAAO,GAAG,wBAAwB;UACxC,IAAIL,SAAS,GAAG;YAAC,WAAW,EAAEiB;UAAW,CAAC;UAC1C,OAAO;YACH,GAAG1B,KAAK;YACR,GAAGS;UACP,CAAC;QACL,CAAC,MACG;UACA,OAAO;YACH,GAAGT;UACP,CAAC;QACL;MACJ;IACJ,KAAK,sBAAsB;MACvB;QACI,IAAIwB,KAAK,GAAGxB,KAAK,CAAC4B,QAAQ,CAACH,SAAS,CAAEP,GAAG,IAAG;UACxC,OAAOA,GAAG,CAACP,IAAI,KAAKV,MAAM,CAACsB,KAAK,CAACZ,IAAI;QACzC,CAAC,CAAC;QAEF,IAAGa,KAAK,KAAK,CAAC,CAAC,EAAC;UACZ,IAAII,QAAQ,GAAG,CAAC3B,MAAM,CAACsB,KAAK,CAAC;UAC7B,OAAO;YACH,GAAGvB,KAAK;YACR4B;UACJ,CAAC;QACL,CAAC,MACG;UACA,IAAIF,WAAW,GAAG,CAAC,GAAG1B,KAAK,CAAC4B,QAAQ,CAAC;UACrCF,WAAW,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;UAC5B,IAAII,QAAQ,GAAG;YAAC,UAAU,EAAEF;UAAW,CAAC;UACxC,OAAO;YACH,GAAG1B,KAAK;YACR,GAAG4B;UACP,CAAC;QACL;MACJ;IACJ,KAAK,eAAe;MAChB,MAAMjB,IAAI,GAAGV,MAAM,CAACsB,KAAK,CAACM,MAAM,CAAClB,IAAI;MACrC,MAAMY,KAAK,GAAGtB,MAAM,CAACsB,KAAK,CAACM,MAAM,CAACN,KAAK;MAEvC,IAAGlB,MAAM,CAACC,MAAM,CAACN,KAAK,CAACO,SAAS,CAAC,CAACC,MAAM,GAAG,CAAC,EAAC;QACzC,IAAIQ,IAAI,GAAG;UAAC,CAACL,IAAI,GAAGY;QAAK,CAAC;QAC1B,IAAIhB,SAAS,GAAG,CAAC;UAAC,GAAGP,KAAK,CAACO,SAAS,CAAC,CAAC,CAAC;UAAE,GAAGS;QAAI,CAAC,CAAC;QAClD,OAAO;UACH,GAAGhB,KAAK;UACRO;QACJ,CAAC;MACL,CAAC,MACG;QACA,IAAIS,IAAI,GAAG;UAAC,CAACL,IAAI,GAAGY;QAAK,CAAC;QAC1B,IAAIb,MAAM,GAAG;UAAC,QAAQ,EAAG;YAAC,GAAGV,KAAK,CAACU,MAAM;YAAE,GAAGM;UAAI;QAAC,CAAC;QACpD,OAAO;UACH,GAAGhB,KAAK;UACR,GAAGU;QACP,CAAC;MACL;IACJ;MACI,OAAOV,KAAK;EAAC;AAEzB,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}